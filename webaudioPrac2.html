<html>
	<head>
		<title>Webaudio Prac</title>
		<script type="text/javascript">
		window.AudioContext = window.AudioContext || window.webkitAudioContext;
		var context = new AudioContext();


		var soundBuffer= null;

		function playSound(buffer){
			var source = context.createBufferSource();
			source.buffer = buffer;
			source.connect(context.destination);
			source.start(0);
		}

		function didntWork(whyDidntItWork){
			console.log('IT DIDNT WORK!!1');
		}
		function loadSound(url){
			var request = new XMLHttpRequest();
			request.open('GET',url,true);
			request.responseType = 'arraybuffer';

			request.onload = function(){
				context.decodeAudioData(request.response, function(buffer){
					soundBuffer=buffer;
					playSound(soundBuffer);
				}, didntWork());
			}
			request.send();
		}

		loadSound('superBlast.mp3');

		</script>
	</head>
	<body>
	</body>
</html>